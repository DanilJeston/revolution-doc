---
title: 调用自带的脚本
date: 2021-09-05 17:29:17
permalink: /pages/91398f/
author:
    name: PartyParrot359
    link: https://github.com/PartyParrot359
---

# 调用自带的脚本

::: warning 警告：

本节默认您使用的是Next分支的2.0.0-beta2版

:::

本节将会介绍除了 `gui.rpy` `definitions.rpy` `effects.rpy` `options.rpy` `screens.rpy` `splash.rpy` `transforms.rpy` `script.rpy` 这几个重要脚本外的几个额外脚本。

 ## `glitchtext.rpy`

正如这个脚本的名字一样，它的作用就是随机生成一些乱码字符。

使用方法如下:

```renpy
$ <任意变量名> = glitchtext(<长度>)
```

例如我想要生成一个长度为 200 的乱码字符:

```renpy
$ gtext = glitchtext(200)
```

::: tip 扩展知识：

在这里，`$ ` 或者 `python:` 就相当于告诉 Ren'Py 这是一个 Python 语句。

:::

现在，只需要在对话中输入：

```renpy
"[<上一步的变量名>]"
```

就可以达到说出乱码字符的效果了！



## `cgs.rpy`

这个脚本文件就像它的名字一样，是定义在 Credits 中会出现的 CG 图片的脚本文件。（若您在该文件里存放了额外的 CG ，请到 `credits.rpy` 做出相应的改动）



## `console.rpy`

这个脚本文件时定义\调用右上角的控制台的文件。

打开该文件，我们会发现它定义了许多 label :

- `updateconsole` 更新控制台。
- `updateconsole_clearall` 在更新控制台的同时清除下方历史内容。
- `updateconsolehistory` 更新控制台下方历史内容。
- `hideconsole` 隐藏控制台。

大多数情况下，它们的用法都如下所示:

```renpy
call <文件中定义的任意label名>(text = "<输入内容>", history = "<在控制台下方显示的历史内容>")
```

但这里有两个意外，`hideconsole` 与 `updateconsolehistory`

`hideconsole` 用法如下:

```renpy
call hideconsole
```

`updateconsolehistory` 用法如下：

```renpy
call updateconsolehistory(text="<控制台下方历史内容>")
```



## `poems.rpy` \ `poems-tl.rpy`

这两个文件用于存放每个人的诗。

`poems.rpy` 是未翻译版本，`poems-tl.rpy` 则是中文翻译版本。

如果您想要增加一些诗，请按照以下格式更改：

```renpy
<poem名> = Poem(
        author = "<作者>",
        title = "<>",
        text = """\
<具体内容>"""
        )
```



## `poems_special.rpy`

这个文件是定义二周目一些特别的诗的（没错二周目特别的诗全是图片）。



## `script-poemgame.rpy`

这个脚本是用来存放选词游戏的脚本，和它的名字一样。

如果你想调用这个脚本，只需要插入以下脚本:

```renpy
call poem
```

::: warning 警告：

如果要使用原版的 poemgame 请确保 `persistent.playthrough` 与原版DDLC相同，否则可能会出现您不想出现的内容。

:::
